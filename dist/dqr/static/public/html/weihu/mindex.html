<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>站点维护</title>
</head>
<style>
    html, body {
        height: 100%;
        margin: 0;
        padding: 0;
    }
    .container {
        position: relative;
        width: 100%;
        height: 100%;
        background-image: url('./images/m1.png');
        text-align: center;
    }
    .header-img {
        max-width: 40%;
        transform: translateY(40%)
    }
    .main {
        position: relative;
        transform: translateY(40%) translateX(5%);
        width: 90%;
        height: 34%;
        background-image: url('./images/m3.png');
        background-size: 100% 100%;
    }
    .main-txt {
        position: absolute;
        top: 30%;
        /* margin: 5% 10%; */
        margin:.2rem .5rem;
        font-size: .7rem;
        text-indent: .6rem;
        text-align: left;
        line-height: 1.7;
        color: #54575c;
        overflow:hidden;
        /* width:100%;
        height:100%; */
    }
    .service {
        position: absolute;
        bottom: 7%;
        left: 50%;
        transform: translateX(-50%);
        padding: 0.2rem 1.9rem;
        border: none;
        border-radius: 3%;
        background-color: #41acd8;
        color: white;
        font-size: 1.2rem;
        text-align: center;
        cursor: pointer;
        text-decoration: none;
    }
</style>
<script>

</script>
<body>
    <div class="container">
        <img src="./images/m2.png" alt="" class="header-img">
        <section class="main">
            <p class="main-txt">
                <span class="txt-tip"></span>
                <br/>维护截止时间至：<span class="time"></span>
            </p>
           
            <a class="service" href="">在线客服
                   
            </a>
        </section>
    </div>   
</body>
<script>
        // document.querySelector('.time').innerHTML="维护时间至："+JSON.parse(localStorage.config).close.timeEnd;
        // let service=JSON.parse(localStorage.config).service;
        // if(service[0]){
        //   document.querySelector('.service').setAttribute('href',service[0].url);          
        // }  
        

        let xml=new XMLHttpRequest();
        xml.open("get","./config.json",true);
        xml.send();
        xml.onreadystatechange=function(){
            if(xml.readyState==4&&xml.status==200){
                let res=JSON.parse(xml.responseText);
                if(res.code==200){
                    console.log("成功")
                    console.log(res);
                    document.querySelector(".txt-tip").innerHTML=res.contentTxt
                    document.querySelector(".time").innerHTML=res.timeEnd;
                    if(res.serviceUrl){
                      document.querySelector('.service').setAttribute('href',res.serviceUrl);          
                    }
                }   
            }
        }

</script>
</html>